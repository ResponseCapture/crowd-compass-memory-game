/*!
 * crowd-compass-memory-game v1.0.0 (https://github.com/ResponseCapture/crowd-compass-memory-game#readme)
 * Copyright 2015 
 * Licensed under the ISC
 */
!function($){"use strict";function Plugin(settings){return this.each(function(){var $this=$(this),data=$this.data("zmd.hierarchicalDisplay"),options=$.extend({},HDisplay.DEFAULTS,$this.data(),"object"==typeof settings&&settings);return data||$this.data("zmd.hierarchicalDisplay",data=new HDisplay(this,options)),"string"==typeof settings?data[settings]():options.action in data?data[options.action]():void 0})}var HDisplay=function(element,options){this.$element=$(element),this.$children=this.$element.children(),this.options=$.extend({},HDisplay.DEFAULTS,options),this._time=HDisplay.TRANSITION_DURATION*this.options.speed,this.init(),this.options.debug===!0&&this._debug()};HDisplay.VERSION="1.0.1",HDisplay.TRANSITION_DURATION=300,HDisplay.DEFAULTS={action:"show",speed:5,animationIn:"zoomIn",animationOut:"zoomOut",debug:!0},HDisplay.prototype.init=function(){var elementOffset,calculatedOffset,elemDelay,self=this,parentElement=this.$element,children=this.$children,options=this.options,time=this._time;parentElement.addClass("zmd-hierarchical-display"),children.each(function(){elementOffset=$(this).position(),calculatedOffset=.8*elementOffset.left+elementOffset.top,elemDelay=parseFloat(calculatedOffset/time).toFixed(2),$(this).css("-webkit-animation-delay",elemDelay+"s").css("animation-delay",elemDelay+"s")}),this._delay=elemDelay,children.last().on("webkitAnimationEnd animationend",function(){$(this).hasClass(options.animationOut)&&self._complete("hidden"),$(this).hasClass(options.animationIn)&&self._complete("shown")})},HDisplay.prototype.show=function(){var parentElement=this.$element,options=(this.$children,this.options);parentElement.hasClass("in")||parentElement.hasClass("zmd-hierarchical-displaying")||(this._removeAnimations(),parentElement.trigger($.Event("show.zmd.hierarchicalDisplay")),this._addAnimation(options.animationIn))},HDisplay.prototype.hide=function(){var parentElement=this.$element,options=(this.$children,this.options);"hidden"===parentElement.css("visibility")||parentElement.hasClass("zmd-hierarchical-displaying")||(this._removeAnimations(),parentElement.trigger($.Event("hide.zmd.hierarchicalDisplay")),this._addAnimation(options.animationOut))},HDisplay.prototype.toggle=function(){return this.$element.hasClass("in")?this.hide():this.show()},HDisplay.prototype._removeAnimations=function(){var options=this.options;this.$children.each(function(){$(this).removeClass(options.animationIn).removeClass(options.animationOut)})},HDisplay.prototype._addAnimation=function(animation){this.$element.addClass("zmd-hierarchical-displaying"),this.$children.each(function(){$(this).addClass(animation).addClass("animated")})},HDisplay.prototype._complete=function(eventName){this.$element.removeClass("zmd-hierarchical-displaying").toggleClass("in").trigger($.Event(eventName+".zmd.hierarchicalDisplay"))},HDisplay.prototype._debug=function(){$(document).on("show.zmd.hierarchicalDisplay",function(e){}).on("shown.zmd.hierarchicalDisplay",function(e){}).on("hide.zmd.hierarchicalDisplay",function(e){}).on("hidden.zmd.hierarchicalDisplay",function(e){})},$.fn.hierarchicalDisplay=Plugin,$.fn.hierarchicalDisplay.Constructor=HDisplay,$(document).on("ready",function(){$('[data-animation="hierarchical-display"]').each(function(){Plugin.call($(this))})}),$(document).on("click",'[data-toggle="hierarchical-display"]',function(e){var $this=$(this),$target=$($this.attr("data-target")||$this.attr("href"));$this.is("a")&&e.preventDefault(),Plugin.call($target,"toggle")})}(jQuery);